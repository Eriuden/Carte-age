{"ast":null,"code":"import { MODIFY_CART, CLEAN_CART } from \"../actions/actions-types\";\nlet locStorCart = JSON.parse(window.localStorage.getItem('cart-age'));\n\nif (locStorCart === null) {\n  locStorCart = [];\n}\n\nlet totalPrice = calculateTotalPrice(locStorCart);\nconst initialState = {\n  cart: locStorCart,\n  totalPrice: totalPrice\n};\n\nfunction calculateTotalPrice(cart) {\n  let priceTotal = 0;\n\n  for (let i = 0; i < cart.length; i++) {\n    let total = parseFloat(cart[i].price) * parseInt(cart[i].quantityInCart);\n    priceTotal += total;\n  }\n\n  return priceTotal;\n}\n\nexport default function cartReducer(state = initialState, action) {\n  switch (action.type) {\n    case MODIFY_CART:\n      let totalPriceAmount = calculateTotalPrice(action.payload);\n      return {\n        cart: action.payload,\n        totalPriceAmount: totalPriceAmount\n      };\n      break;\n\n    case CLEAN_CART:\n      return {\n        cart: [],\n        totalPriceAmount: 0\n      };\n\n    default:\n      return state;\n      break;\n  }\n}","map":{"version":3,"sources":["C:/Users/antoi/Desktop/Projet Cartes Ã¢ge/Carte_age/front/src/redux/reducers/cartReducer.js"],"names":["MODIFY_CART","CLEAN_CART","locStorCart","JSON","parse","window","localStorage","getItem","totalPrice","calculateTotalPrice","initialState","cart","priceTotal","i","length","total","parseFloat","price","parseInt","quantityInCart","cartReducer","state","action","type","totalPriceAmount","payload"],"mappings":"AAAA,SAASA,WAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AAEA,IAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAX,CAAlB;;AAEA,IAAIL,WAAW,KAAK,IAApB,EAA0B;AACzBA,EAAAA,WAAW,GAAG,EAAd;AACA;;AAED,IAAIM,UAAU,GAAGC,mBAAmB,CAAEP,WAAF,CAApC;AAEA,MAAMQ,YAAY,GAAG;AACpBC,EAAAA,IAAI,EAAET,WADc;AAEpBM,EAAAA,UAAU,EAAEA;AAFQ,CAArB;;AAKA,SAASC,mBAAT,CAA6BE,IAA7B,EAAmC;AAClC,MAAIC,UAAU,GAAG,CAAjB;;AAEA,OAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAGF,IAAI,CAACG,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;AACnC,QAAIE,KAAK,GAAGC,UAAU,CAACL,IAAI,CAACE,CAAD,CAAJ,CAAQI,KAAT,CAAV,GAA4BC,QAAQ,CAACP,IAAI,CAACE,CAAD,CAAJ,CAAQM,cAAT,CAAhD;AACAP,IAAAA,UAAU,IAAIG,KAAd;AACA;;AAED,SAAOH,UAAP;AACA;;AAED,eAAe,SAASQ,WAAT,CAAqBC,KAAK,GAAGX,YAA7B,EAA2CY,MAA3C,EAAmD;AACjE,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKvB,WAAL;AAEC,UAAIwB,gBAAgB,GAAGf,mBAAmB,CAACa,MAAM,CAACG,OAAR,CAA1C;AAEA,aAAO;AAAEd,QAAAA,IAAI,EAAEW,MAAM,CAACG,OAAf;AAAwBD,QAAAA,gBAAgB,EAAEA;AAA1C,OAAP;AAGA;;AAED,SAAKvB,UAAL;AACC,aAAM;AAACU,QAAAA,IAAI,EAAE,EAAP;AAAWa,QAAAA,gBAAgB,EAAE;AAA7B,OAAN;;AAEA;AACC,aAAOH,KAAP;AACD;AAfF;AAqBA","sourcesContent":["import { MODIFY_CART,CLEAN_CART } from \"../actions/actions-types\";\r\n\r\nlet locStorCart = JSON.parse(window.localStorage.getItem('cart-age'));\r\n\r\nif (locStorCart === null) {\r\n\tlocStorCart = []\r\n}\r\n\r\nlet totalPrice = calculateTotalPrice (locStorCart)\r\n\r\nconst initialState = {\r\n\tcart: locStorCart,\r\n\ttotalPrice: totalPrice\r\n};\r\n\r\nfunction calculateTotalPrice(cart) {\r\n\tlet priceTotal = 0;\r\n\r\n\tfor (let i=0; i < cart.length; i++) {\r\n\t\tlet total = parseFloat(cart[i].price) * parseInt(cart[i].quantityInCart);\r\n\t\tpriceTotal += total;\r\n\t}\r\n\r\n\treturn priceTotal\r\n}\r\n\r\nexport default function cartReducer(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase MODIFY_CART:\r\n\r\n\t\t\tlet totalPriceAmount = calculateTotalPrice(action.payload);\r\n\t\t\t\r\n\t\t\treturn { cart: action.payload, totalPriceAmount: totalPriceAmount };\r\n\r\n\t\t\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase CLEAN_CART:\r\n\t\t\treturn{cart: [], totalPriceAmount: 0};\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\r\n\t\r\n\t\r\n}\r\n"]},"metadata":{},"sourceType":"module"}